<ion-view view-title="{{titlepage}}">
<ion-nav-buttons side="primary">
	<button class="button button-icon icon ion-ios-arrow-left" ng-click="back()">Back</button>    
</ion-nav-buttons>
<ion-nav-buttons side="right">
	<button class="button button-balanced icon ion-checkmark-circled" ng-click="filterItem()">Filter</button>
</ion-nav-buttons>
<ion-content>
<ion-refresher
    pulling-text="Pull to refresh..."
    on-refresh="doRefresh()">
  </ion-refresher>
  <ion-list>
	<ion-item class="item-thumbnail-left item-icon-right item-remove-animate" collection-repeat="item in items">
		<img ng-src="{{item.file}}">
		<h2 style="color: #387ef5;">{{item.title}}</h2>
		<p>Category: {{item.category}}</p>
		<p class="ion-ios-location"> {{item.location}}</p>
        <a class="icon ion-eye" ng-style="open" ng-mouseover="open={'cursor':'pointer'}" ng-click="showDetail(item.code)"></a>
    </ion-item>
  </ion-list>
</ion-content>
</ion-view>

<script id="FilterItem.html" type="text/ng-template">
	<div class="modal">
		<header class="bar bar-header bar-assertive">
          <h1 class="title">Filter</h1>
        </header>
        <ion-content class="has-header">
			  <div class="list list-inset">
				  <label class="item item-input item-select">
					<div class="input-label">
					  Region
					</div>
					<select name="region" ng-model="data.region" ng-options="region.name for region in regions track by region.code">
					</select>
				  </label>
				  <label class="item item-input item-select">
					<div class="input-label">
					  Category
					</div>
					<select name="category" ng-model="data.category" ng-options="category.name for category in categories track by category.code">
					</select>
				  </label>
			  </div>
			  <div class="button button-block button-balanced" ng-click="setFilter()">Done</div>
        </ion-content>
  </div>
</script>